{% extends "base.html" %}

{% block title %}
    Home: {{ user.username }}
{% endblock %}

{% block content %}
    <h2 class="text-primary">Hello {{ user.username }}</h2>
    Here is the list of your games


    <div class="row">
        <div class="col-md-6" ng-controller="GameListController">
            <h3>Active games</h3>

            {% verbatim %}
            <div class="list-group bg-info">
                <a class="list-group-item list-group-item-info"
                   href="{{ game.absoluteUrl }}" ng-repeat="game in activeGames">
                    {{ game.str }}
                    <span class="badge">{{ game.movesCount }}</span>
                </a>
            </div>
            {% endverbatim %}

            {% include "player/game_list_snippet.html" with games_list=active_games %}

            <h3>Finished games</h3>

            {% include "player/game_list_snippet.html" with games_list=finished_games %}

            <p>
                <a class="btn btn-primary"
                   href="{% url 'player_new_invitation' %}">Send game invitation</a>
            </p>
        </div>
        <div class="col-md-6">
            <h3>Active invitations</h3>

            {% if invitations %}
                <div class="list-group">
                    {% for inv in invitations %}
                        <a class="list-group-items" href="{% url 'player_accept_invitation' id=inv.id %}">
                            {{ inv.from_user.username }} invited you to play.<br>
                        </a>
                    {% endfor %}
                </div>
            {% else %}
                <p>No active invitations</p>
            {% endif %}
        </div>
    </div>

{% endblock %}